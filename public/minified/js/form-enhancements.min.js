!function(){"use strict";console.log("Application Form Enhancements - Loading...");const e={MIN_AGE:25,MAX_AGE:70,ERROR_MESSAGE:{TOO_YOUNG:"지원 가능 최소 나이는 {MIN_AGE}세입니다. 현재 나이: {CURRENT_AGE}세",TOO_OLD:"지원 가능 최대 나이는 {MAX_AGE}세입니다. 현재 나이: {CURRENT_AGE}세",INVALID_DATE:"올바른 생년월일을 입력해주세요.",FUTURE_DATE:"미래 날짜는 입력할 수 없습니다."}};function t(t){if(!t)return{valid:!1,message:e.ERROR_MESSAGE.INVALID_DATE};if(new Date(t)>new Date)return{valid:!1,message:e.ERROR_MESSAGE.FUTURE_DATE};const n=function(e){const t=new Date,n=new Date(e);let o=t.getFullYear()-n.getFullYear();const a=t.getMonth()-n.getMonth();return(a<0||0===a&&t.getDate()<n.getDate())&&o--,o}(t);return n<e.MIN_AGE?{valid:!1,message:e.ERROR_MESSAGE.TOO_YOUNG.replace("{MIN_AGE}",e.MIN_AGE).replace("{CURRENT_AGE}",n)}:n>e.MAX_AGE?{valid:!1,message:e.ERROR_MESSAGE.TOO_OLD.replace("{MAX_AGE}",e.MAX_AGE).replace("{CURRENT_AGE}",n)}:{valid:!0,age:n}}function n(e,t){const n=e.parentElement.querySelector(".age-error");n&&n.remove();const o=document.createElement("div");o.className="age-error",o.style.color="#ef4444",o.style.fontSize="0.875rem",o.style.marginTop="0.25rem",o.textContent=t,e.parentElement.appendChild(o),e.style.borderColor="#ef4444"}function o(e){const t=e.parentElement.querySelector(".age-error");t&&t.remove(),e.style.borderColor=""}function a(){const e=document.querySelectorAll('input[type="date"]');0!==e.length?(e.forEach(e=>{if(e.dataset.converted)return;const a=e.id,l=e.name,c=e.hasAttribute("required");if(!e.closest(".form-group"))return;const i=document.createElement("div");i.className="birth-date-selects",i.style.display="flex",i.style.gap="0.5rem";const s=r(`${a}-year`,`${l}-year`,"년도",function(){const e=[],t=(new Date).getFullYear(),n=1940;for(let o=t-14;o>=n;o--)e.push({value:o.toString(),text:o+"년"});return e}(),c),d=r(`${a}-month`,`${l}-month`,"월",function(){const e=[];for(let t=1;t<=12;t++)e.push({value:t.toString(),text:t+"월"});return e}(),c),u=r(`${a}-day`,`${l}-day`,"일",function(){const e=[];for(let t=1;t<=31;t++)e.push({value:t.toString(),text:t+"일"});return e}(),c);i.appendChild(s),i.appendChild(d),i.appendChild(u);const E=document.createElement("input");function m(){const e=s.value,a=d.value,r=u.value;if(e&&a&&r){const l=`${e}-${a.padStart(2,"0")}-${r.padStart(2,"0")}`;E.value=l;const c=t(l);c.valid?(o(i),console.log(`Valid age: ${c.age}세`)):n(i,c.message)}else E.value="",o(i)}function g(){const e=E.value;if(e){const a=t(e);a.valid?o(i):n(i,a.message)}}E.type="hidden",E.id=a,E.name=l,c&&(E.required=!0),e.parentNode.insertBefore(i,e),e.parentNode.insertBefore(E,e),e.remove(),E.dataset.converted="true",s.addEventListener("change",m),d.addEventListener("change",m),u.addEventListener("change",m),s.addEventListener("change",g),d.addEventListener("change",g),u.addEventListener("change",g),console.log("Birth date selects created for:",a)}),console.log("Birth date selects initialized")):console.log("No date inputs found")}function r(e,t,n,o,a){const r=document.createElement("select");r.id=e,r.name=t,r.className="form-select",a&&(r.required=!0);const l=document.createElement("option");return l.value="",l.textContent=n,r.appendChild(l),o.forEach(e=>{const t=document.createElement("option");t.value=e.value,t.textContent=e.text,r.appendChild(t)}),r}function l(){try{!function(){const e=document.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".form-content");function n(n){e.forEach(e=>e.classList.remove("active"));const o=document.querySelector(`.tab-btn[data-track="${n}"]`);o&&o.classList.add("active"),t.forEach(e=>{e.classList.add("hidden"),e.classList.remove("active")});const a=document.getElementById(`${n}-content`);a&&(a.classList.remove("hidden"),a.classList.add("active"),console.log("Switched to track:",n))}0!==e.length?(e.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),n(this.getAttribute("data-track"))})}),document.addEventListener("click",function(e){const t=e.target.closest("a[data-track]");if(t){const o=t.getAttribute("data-track"),a=document.getElementById("apply");a&&(e.preventDefault(),a.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{n(o)},500))}}),console.log("Tab switching initialized:",e.length,"tabs")):console.log("No tab buttons found")}(),a(),document.querySelectorAll(".application-form").forEach(e=>{e.addEventListener("submit",function(o){let a=!0,r="";const l=e.querySelector(".form-content:not(.hidden)");if(l)return l.querySelectorAll('input[type="hidden"][data-converted="true"]').forEach(e=>{if(!e.value&&e.hasAttribute("required"))return a=!1,r="생년월일을 모두 선택해주세요.",void o.preventDefault();if(e.value){const l=t(e.value);if(!l.valid){a=!1,r=l.message;const t=e.previousElementSibling;return t&&t.classList.contains("date-select-container")&&n(t,l.message),void o.preventDefault()}}}),!a&&r?(alert(r),o.preventDefault(),!1):void console.log("Form validation passed")})}),console.log("Form validation initialized"),function(){const e=document.querySelectorAll('input[type="tel"]');e.forEach(e=>{e.addEventListener("input",function(e){let t=e.target.value.replace(/[^0-9]/g,"");t.length<=3?e.target.value=t:t.length<=7?e.target.value=t.slice(0,3)+"-"+t.slice(3):t.length<=11?e.target.value=t.slice(0,3)+"-"+t.slice(3,7)+"-"+t.slice(7):e.target.value=t.slice(0,3)+"-"+t.slice(3,7)+"-"+t.slice(7,11)})}),console.log("Phone formatting initialized:",e.length,"inputs")}(),console.log("Application Form Enhancements - All features loaded successfully! ✅")}catch(e){console.error("Error initializing application form features:",e)}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();
//# sourceMappingURL=form-enhancements.min.js.map